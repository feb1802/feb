<!DOCTYPE html>
<html>

<head>
    <title>!warrning!</title>
    <link rel="stylesheet" type="text/css" href="../styles/textAnimation.css">
    <style>
        * {
            box-sizing: border-box;
        }

        html,
        body {
            width: 100%;
            height: calc(100% - 3px);
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        #text-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1000;
            background: transparent;
            justify-content: start;
        }

        #slide-show {
            overflow: hidden;
            transition: opacity 2s;
            /* animation: crescendo 5s alternate ease-in; */
        }

        img {
            animation: animateElement linear 1.0s;
            animation-iteration-count: 1;
        }

        @keyframes crescendo {
            0% {
                transform: scale(1.0);
            }

            100% {
                transform: scale(0);
            }
        }

        @keyframes animateElement {
            0% {
                opacity: 0;
                transform: translate(0px, 30px);
            }

            100% {
                opacity: 1;
                transform: translate(0px, 0px);
            }
        }
    </style>
</head>

<body>
    <div id="slide-show" class="img-grid">

    </div>
    <div id="text-animation" class="text-holder"></div>
    <script src="../js/animation.js"></script>
    <script>
        var drawer = new TextDrawer(document.getElementById('text-animation'));

        (function () {
            let f = document.createDocumentFragment();
            for (let i = 0; i < 4; i++) {
                let column = document.createElement('div');
                column.classList.add('column');
                column.dataset.colNo = (i).toString();
                f.appendChild(column);
            }
            document.getElementById('slide-show').appendChild(f);
            drawer.draw('typing', 'Малко по-късно...', 2500, '', () => {
                drawer.draw('typing', 'Чукнахме 20-така', 8000, '&#128526;', () => {

                });
            });

            setTimeout(() => {
                loadImg(56, 0);
                setTimeout(() => {
                    loadImg(58, 1);
                    setTimeout(() => {
                        loadImg(16, 2)
                        setTimeout(() => {
                            loadImg(57, 3)
                            setTimeout(() => {
                                document.getElementById('slide-show').style.opacity = '0'
                            }, 5000)
                        }, 1000)
                    }, 1000)
                }, 1000);
            }, 2500);
            function loadImg(id, col) {
                let img = document.createElement('img');
                img.src = `../images/${(id).toString()}.jpg`;

                let colToAppend = document.querySelector(`#slide-show [data-col-no="${(col).toString()}"]`);
                colToAppend && colToAppend.appendChild(img);
            }
        })();
    </script>
</body>

</html>